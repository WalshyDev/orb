---
import DownloadButton from './DownloadButton.astro';

interface Props {
  version?: string;
  baseUrl?: string;
}

const {
  version = 'latest',
  baseUrl = 'https://github.com/WalshyDev/orb/releases'
} = Astro.props;

const downloadUrl = version === 'latest'
  ? `${baseUrl}/latest/download`
  : `${baseUrl}/download/${version}`;
---

<div class="download-buttons">
  <DownloadButton
    href={`${downloadUrl}/orb-macos`}
    platform="macos"
    label="macOS (Universal)"
  />
  <DownloadButton
    href={`${downloadUrl}/orb-linux`}
    platform="linux"
    label="Linux (x86_64)"
  />
  <DownloadButton
    href={`${downloadUrl}/orb-windows.exe`}
    platform="windows"
    label="Windows (x86_64)"
  />
</div>

<p class="download-note">
  <a href={baseUrl} target="_blank" rel="noopener">View all releases</a> for older versions or other architectures.
</p>

<style>
  .download-buttons {
    display: flex;
    flex-wrap: wrap;
    gap: 1rem;
    margin: 1.5rem 0;
  }

  .download-note {
    font-size: 0.875rem;
    color: #71717a;
    margin-top: 0.5rem;
  }

  .download-note a {
    color: #f97316;
  }

  .download-note a:hover {
    color: #fb923c;
  }

  @media (max-width: 768px) {
    .download-buttons {
      flex-direction: column;
    }
  }
</style>
